import{a as y,u as R,R as m,r as x,j as t,s as c}from"./index-D7V7G12u.js";import{f as k,s as E}from"./matcherService-w81RXll0.js";const L=()=>{const a=y(),{code:b,patternCode:f,hasStarted:s,step:e,maxStep:r,matchStates:d,isLoading:u}=R(n=>n.matcher),g=b!==""&&f!=="",[S,j]=m.useState([]),l=m.useRef(null),o=m.useRef(null);x.useEffect(()=>{const n=d.map(i=>t.jsx("option",{value:i},i));j(n)},[d]);const N=()=>{console.log("Start match"),a(E())};x.useEffect(()=>{s&&(console.log("Getting step",e),a(k(e)),l.current&&(l.current.value=""+e),o.current&&(o.current.value=""+e))},[a,e,s]);const C=()=>{e>0&&a(c(e-1))},v=()=>{e<r&&a(c(e+1))},p=n=>{const h=n.target.value;console.log("Changing step",h),a(c(parseInt(h)))};return t.jsxs("div",{className:"row",children:[t.jsx("button",{className:"btn-primary btn ctrl col-1 mx-2",id:"first",disabled:!s,onClick:()=>a(c(0)),children:"First"}),t.jsx("button",{className:"btn-primary btn ctrl col-1 mx-2",id:"prev",disabled:!s,onClick:C,children:"Prev"}),t.jsx("button",{className:"btn btn-primary ctrl col-1 mx-2",id:"start",disabled:!g||u,onClick:N,children:u?"Starting...":"Start"}),t.jsx("label",{className:"col-1 mx-2",children:t.jsx("input",{className:"form-control ctrl",type:"number",defaultValue:"0",id:"step",max:r,min:"0",disabled:!s,onChange:p,ref:l})}),t.jsxs("label",{className:"col-5 mx-2",children:[t.jsx("input",{className:"w-100 ctrl",type:"range",defaultValue:"0",id:"range",list:"matches",max:r,min:"0",disabled:!s,onChange:p,ref:o}),t.jsx("datalist",{id:"matches",children:S})]}),t.jsx("button",{className:"btn-primary btn ctrl col-1 mx-2",id:"next",disabled:!s,onClick:v,children:"Next"}),t.jsx("button",{className:"btn-primary btn ctrl col-1 mx-2",id:"last",disabled:!s,onClick:()=>a(c(r)),children:"Last"})]})};export{L as default};
